(this.webpackJsonpredux=this.webpackJsonpredux||[]).push([[0],{47:function(n,t,e){"use strict";e.r(t);var r=e(1),i=e(0),c=e.n(i),o=e(17),a=e.n(o),u=e(4),s=e(2),f=e(8),d=e(6),p=e(3),j="token",b="@media screen and (max-width: 768px)",l=function(n){return localStorage.setItem(j,n)},x=function(){return localStorage.getItem(j)};function h(n){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current=n}),[n]),t.current}var O=e(16),g="https://student-json-api.lidemy.me",v=function(){var n=x();return fetch("".concat(g,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))},m=Object(O.b)({name:"users",initialState:{user:null,errorMessage:null},reducers:{setUser:function(n,t){n.user=t.payload},setErrorMessage:function(n,t){n.errorMessage=t.payload}}}),w=m.actions,y=w.setUser,k=w.setErrorMessage,P=function(){return function(n){n(k(null))}},S=function(n,t){return function(e){(function(n,t){var e=x();return fetch("".concat(g,"/login"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)},body:JSON.stringify({username:n,password:t})}).then((function(n){return n.json()}))})(n,t).then((function(n){0!==n.ok?(l(n.token),v().then((function(n){if(1!==n.ok)return e(k(n.toString())),void l(null);e(y(n.data))}))):e(k(n.message))}))}},z=function(n,t,e){return function(r){k(null),function(n,t,e){return fetch("".concat(g,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:t,password:e})}).then((function(n){return n.json()}))}(n,t,e).then((function(n){1===n.ok?(l(n.token),v().then((function(n){if(1!==n.ok)return r(k(n.toString())),void l(null);r(y(n.data))}))):r(k(n.message))}))}},N=m.reducer;function C(){var n=Object(s.a)(["\n  display: flex;\n  width: 100px;\n  justify-content: center;\n  align-items: center;\n  color: #4f5d75;\n  text-decoration: none;\n  height: 100%;\n  box-sizing: border-box;\n  "," {\n    width: 75px;\n  }\n\n  ","\n"]);return C=function(){return n},n}function T(){var n=Object(s.a)(["\n  color: #2d3142;\n  text-decoration: none;\n  font-size: 32px;\n  font-weight: bold;\n  text-align: center;\n  min-width: 200px;\n  "," {\n    div {\n      padding: 10px;\n    }\n    justify-content: center;\n  }\n"]);return T=function(){return n},n}function L(){var n=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n\n  "," {\n    margin-left: 30px;\n    "," {\n      margin-left: 0px;\n    }\n  }\n"]);return L=function(){return n},n}function E(){var n=Object(s.a)(["\n  display: flex;\n  height: 64px;\n\n  "," {\n    height: 64px;\n    justify-content: center;\n  }\n"]);return E=function(){return n},n}function R(){var n=Object(s.a)(["\n  display: flex;\n  top: 0px;\n  right: 0px;\n  left: 0px;\n  height: 64px;\n  position: fixed;\n  border: 1px solid #bfc0c0;\n  align-items: center;\n  padding: 0 30px;\n  background: white;\n\n  "," {\n    display: block;\n    height: 130px;\n    justify-content: center;\n    padding: 0;\n  }\n"]);return R=function(){return n},n}var D=p.a.div(R(),b),M=p.a.div(E(),b),I=p.a.div(L(),M,b),$=Object(p.a)(f.b)(T(),b),A=Object(p.a)(f.b)(C(),b,(function(n){return n.$active&&"background: rgba(0, 0, 0, 0.2)"}));var B=function(){var n=Object(d.g)(),t=Object(d.f)(),e=Object(u.b)(),i=Object(u.c)((function(n){return n.users.user}));return Object(r.jsxs)(D,{children:[Object(r.jsx)($,{to:"/",children:Object(r.jsx)("div",{children:"\u90e8\u843d\u683c Blog"})}),Object(r.jsxs)(I,{children:[Object(r.jsxs)(M,{children:[Object(r.jsx)(A,{to:"/",$active:"/"===n.pathname,children:"\u9996\u9801"}),Object(r.jsx)(A,{to:"/about",$active:"/about"===n.pathname,children:"\u95dc\u65bc\u6211"}),Object(r.jsx)(A,{to:"/post-list",$active:"/post-list"===n.pathname,children:"\u6587\u7ae0\u5217\u8868"})]}),Object(r.jsxs)(M,{children:[!i&&Object(r.jsx)(A,{to:"/register",$active:"/register"===n.pathname,children:"\u8a3b\u518a"}),!i&&Object(r.jsx)(A,{to:"/login",$active:"/login"===n.pathname,children:"\u767b\u5165"}),i&&Object(r.jsx)(A,{to:"/new-post",$active:"/new-post"===n.pathname,children:"\u767c\u5e03\u6587\u7ae0"}),i&&Object(r.jsx)(A,{onClick:function(){l(""),e((function(n){n(y(null))})),"/"!==n.pathname&&t.push("/")},children:"\u767b\u51fa"})]})]})]})},J=Object(O.b)({name:"posts",initialState:{isLoadingPost:!1,limitPosts:null,posts:null,post:null,editPostResponse:null,newPostResponse:null,isLoadingNewPost:!1},reducers:{setIsLoadingPost:function(n,t){n.isLoadingPost=t.payload},setPosts:function(n,t){n.posts=t.payload},setLimitPosts:function(n,t){n.limitPosts=t.payload},setPost:function(n,t){n.post=t.payload},setNewPostResponse:function(n,t){n.newPostResponse=t.payload},setIsLoadingNewPost:function(n,t){n.isLoadingNewPost=t.payload},setEditPostResponse:function(n,t){n.editPostResponse=t.payload}}}),_=J.actions,F=_.setIsLoadingPost,U=_.setLimitPosts,H=_.setPosts,q=_.setPost,G=_.setNewPostResponse,K=_.setIsLoadingNewPost,Q=_.setEditPostResponse,V=function(){return function(n){return fetch("".concat(g,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()})).then((function(t){return n(H(t)),t}))}},W=function(n){return function(t){t(F(!0)),function(n){return fetch("".concat(g,"/posts?_sort=createdAt&_order=desc&_limit=5&_page=").concat(n)).then((function(n){return n.json()}))}(n).then((function(n){t(U(n)),t(F(!1))}))}},X=function(n){return function(t){t(F(!0)),function(n){return fetch("".concat(g,"/posts/").concat(n)).then((function(n){return n.json()}))}(n).then((function(n){t(q(n)),t(F(!1))}))}},Y=function(n){return function(t){return t(K(!0)),function(n){var t=n.title,e=n.body,r=x();return fetch("".concat(g,"/posts"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(r)},body:JSON.stringify({title:t,body:e})}).then((function(n){return n.json()}))}(n).then((function(n){return t(G(n)),t(K(!1)),n}))}},Z=function(n,t){return function(e){return e(K(!0)),function(n,t){var e=t.title,r=t.body,i=x();return fetch("".concat(g,"/posts/").concat(n),{method:"PATCH",headers:{"content-type":"application/json",authorization:"Bearer ".concat(i)},body:JSON.stringify({title:e,body:r})}).then((function(n){return n.json()}))}(n,t).then((function(n){return e(Q(n)),e(K(!1)),console.log(n),n}))}},nn=function(){return function(n){n(q(null))}},tn=function(n){return function(){return function(n){return fetch("".concat(g,"/posts/").concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){return n.json()}))}(n).then((function(n){return n}))}},en=J.reducer;function rn(){var n=Object(s.a)(["\n  display: flex;\n  width: 120px;\n  "," {\n    padding-top: 10px;\n  }\n"]);return rn=function(){return n},n}function cn(){var n=Object(s.a)(["\n  display: flex;\n"]);return cn=function(){return n},n}function on(){var n=Object(s.a)(["\n  margin-left: 10px;\n  padding: 10px;\n  border: 1px solid #ef8354;\n  background: white;\n  color: #ef8354;\n  cursor: pointer;\n  border-radius: 5px;\n  text-decoration: none;\n  font-size: 14px;\n  align-items: center;\n  display: flex;\n}\n"]);return on=function(){return n},n}function an(){var n=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  min-width: 190px;\n  color: #4f5d75;\n  margin-left: 10px;\n  "," {\n    padding-top: 10px;\n  }\n"]);return an=function(){return n},n}function un(){var n=Object(s.a)(["\n  display: inline-block;\n  align-items: center;\n  max-width: 700px;\n  font-size: 20px;\n  text-decoration: none;\n  color: #2d3142;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-left: 10px;\n  "," {\n    white-space: pre-line;\n    line-height: 1.5em;\n  }\n"]);return un=function(){return n},n}function sn(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #bfc0c0;\n  padding: 20px;\n  :hover {\n    background: #bfc0c0;\n  }\n  "," {\n    display: block;\n  }\n"]);return sn=function(){return n},n}function fn(){var n=Object(s.a)(["\n  margin: 0 auto;\n  width: 80%;\n  "," {\n    width: 95%;\n  }\n"]);return fn=function(){return n},n}var dn=p.a.div(fn(),b),pn=p.a.div(sn(),b),jn=Object(p.a)(f.b)(un(),b),bn=p.a.div(an(),b),ln=Object(p.a)(f.b)(on()),xn=p.a.div(cn()),hn=p.a.div(rn(),b);function On(n){var t=n.post,e=n.user,i=n.handleDelete;return Object(r.jsxs)(pn,{children:[Object(r.jsx)(jn,{to:"/post/".concat(t.id),children:t.title}),Object(r.jsxs)(xn,{children:[Object(r.jsx)(bn,{children:new Date(t.createdAt).toLocaleString()}),e&&Object(r.jsxs)(hn,{children:[Object(r.jsx)(ln,{to:"/edit-post/".concat(t.id),children:"\u7de8\u8f2f"}),Object(r.jsx)(ln,{onClick:function(){i(t.id)},children:"\u522a\u9664"})]})]})]})}var gn=function(){var n=Object(u.c)((function(n){return n.users.user})),t=Object(u.c)((function(n){return n.posts.posts})),e=Object(u.b)(),c=function(n){e(tn(n)).then((function(){e(V())}))};return Object(i.useEffect)((function(){e(V())}),[]),Object(r.jsx)(dn,{children:t&&t.map((function(t){return Object(r.jsx)(On,{post:t,user:n,handleDelete:c},t.id)}))})},vn=e(7);function mn(){var n=Object(s.a)(["\n  color: #2d3142;\n  "," {\n    margin: 5px;\n  }\n"]);return mn=function(){return n},n}function wn(){var n=Object(s.a)(["\n  margin-top: 20px;\n  padding: 10px;\n  border: none;\n  background: white;\n  color: #ef8354;\n  cursor: pointer;\n  border-radius: 5px;\n  "," {\n    padding: 15px 20px;\n    font-size: 16px;\n  }\n"]);return wn=function(){return n},n}function yn(){var n=Object(s.a)(["\n  padding: 5px;\n  width: 200px;\n  border: none;\n  "," {\n    padding: 10px;\n    width: 80%;\n    font-size: 16px;\n  }\n"]);return yn=function(){return n},n}function kn(){var n=Object(s.a)(["\n  font-size: 16px;\n  color: #ffffff;\n  "," {\n    font-size: 20px;\n    margin: 10px;\n  }\n"]);return kn=function(){return n},n}function Pn(){var n=Object(s.a)(["\n  margin: 10px 0;\n  display: flex;\n  justify-content: center;\n  "," {\n    display: block;\n  }\n"]);return Pn=function(){return n},n}function Sn(){var n=Object(s.a)(["\n  color: #ffffff;\n  "," {\n    font-size: 24px;\n    margin: 20px;\n  }\n"]);return Sn=function(){return n},n}function zn(){var n=Object(s.a)(["\n  background: #ef8354;\n  margin: 10%;\n  height: 280px;\n  align-items: center;\n  text-align: center;\n  border: 1px solid #ef8354;\n  padding-top: 40px;\n\n  "," {\n    margin: 5% 0;\n    height: 400px;\n  }\n"]);return zn=function(){return n},n}function Nn(){var n=Object(s.a)(["\n  margin: 0 auto;\n  width: 80%;\n  "," {\n    width: 95%;\n  }\n"]);return Nn=function(){return n},n}var Cn=p.a.div(Nn(),b),Tn=p.a.form(zn(),b),Ln=p.a.h2(Sn(),b),En=p.a.div(Pn(),b),Rn=p.a.div(kn(),b),Dn=p.a.input(yn(),b),Mn=p.a.button(wn(),b),In=p.a.h3(mn(),b);function $n(n){var t=n.inputName,e=n.inputType,i=n.value,c=n.onChange;return Object(r.jsx)("div",{children:Object(r.jsxs)(En,{children:[Object(r.jsx)(Rn,{children:t}),Object(r.jsx)(Dn,{type:e,onChange:c,value:i})]})})}var An=function(){var n=Object(i.useState)(""),t=Object(vn.a)(n,2),e=t[0],c=t[1],o=Object(i.useState)(""),a=Object(vn.a)(o,2),s=a[0],f=a[1],p=Object(d.f)(),j=Object(u.b)(),b=Object(u.c)((function(n){return n.users.user})),l=Object(u.c)((function(n){return n.users.errorMessage}));return Object(i.useEffect)((function(){return b&&p.push("/"),function(){j(P())}}),[b,p,j]),Object(r.jsx)(Cn,{children:Object(r.jsxs)(Tn,{onSubmit:function(n){n.preventDefault(),j(S(e,s))},children:[Object(r.jsx)(Ln,{children:"Login"}),l&&Object(r.jsx)(In,{children:l}),Object(r.jsx)($n,{inputName:"Username\uff1a",inputType:"text",value:e,onChange:function(n){c(n.target.value)}}),Object(r.jsx)($n,{inputName:"Passwrod\uff1a",inputType:"password",value:s,onChange:function(n){f(n.target.value)}}),Object(r.jsx)(Mn,{children:"Submit"})]})})};function Bn(){var n=Object(s.a)(["\n  color: #2d3142;\n  "," {\n    margin: 5px;\n  }\n"]);return Bn=function(){return n},n}function Jn(){var n=Object(s.a)(["\n  margin-top: 20px;\n  padding: 10px;\n  border: none;\n  background: white;\n  color: #ef8354;\n  cursor: pointer;\n  border-radius: 5px;\n  "," {\n    padding: 15px 20px;\n    font-size: 16px;\n  }\n"]);return Jn=function(){return n},n}function _n(){var n=Object(s.a)(["\n  padding: 5px;\n  width: 200px;\n  border: none;\n  "," {\n    padding: 10px;\n    width: 80%;\n    font-size: 16px;\n  }\n"]);return _n=function(){return n},n}function Fn(){var n=Object(s.a)(["\n  font-size: 16px;\n  color: #ffffff;\n  "," {\n    font-size: 20px;\n    margin: 10px;\n  }\n"]);return Fn=function(){return n},n}function Un(){var n=Object(s.a)(["\n  margin: 10px 0;\n  display: flex;\n  justify-content: center;\n  "," {\n    display: block;\n  }\n"]);return Un=function(){return n},n}function Hn(){var n=Object(s.a)(["\n  color: #ffffff;\n  "," {\n    font-size: 24px;\n    margin: 10px;\n  }\n"]);return Hn=function(){return n},n}function qn(){var n=Object(s.a)(["\n  background: #ef8354;\n  margin: 10%;\n  min-height: 300px;\n  align-items: center;\n  text-align: center;\n  border: 1px solid #ef8354;\n  padding-top: 40px;\n  "," {\n    margin: 5% 0;\n    height: 500px;\n  }\n"]);return qn=function(){return n},n}function Gn(){var n=Object(s.a)(["\n  margin: 0 auto;\n  width: 80%;\n  "," {\n    width: 95%;\n  }\n"]);return Gn=function(){return n},n}var Kn=p.a.div(Gn(),b),Qn=p.a.form(qn(),b),Vn=p.a.h2(Hn(),b),Wn=p.a.div(Un(),b),Xn=p.a.div(Fn(),b),Yn=p.a.input(_n(),b),Zn=p.a.button(Jn(),b),nt=p.a.h3(Bn(),b);function tt(n){var t=n.inputName,e=n.inputType,i=n.value,c=n.onChange;return Object(r.jsx)("div",{children:Object(r.jsxs)(Wn,{children:[Object(r.jsx)(Xn,{children:t}),Object(r.jsx)(Yn,{type:e,onChange:c,value:i})]})})}var et=function(){var n=Object(i.useState)(""),t=Object(vn.a)(n,2),e=t[0],c=t[1],o=Object(i.useState)(""),a=Object(vn.a)(o,2),s=a[0],f=a[1],p=Object(i.useState)(""),j=Object(vn.a)(p,2),b=j[0],l=j[1],x=Object(u.b)(),h=Object(d.f)(),O=Object(u.c)((function(n){return n.users.errorMessage})),g=Object(u.c)((function(n){return n.users.user}));return Object(i.useEffect)((function(){return g&&h.push("/"),function(){x(P())}}),[g,h]),Object(r.jsx)(Kn,{children:Object(r.jsxs)(Qn,{onSubmit:function(n){n.preventDefault(),x(z(b,e,s))},children:[Object(r.jsx)(Vn,{children:"Register"}),O&&Object(r.jsx)(nt,{children:O}),Object(r.jsx)(tt,{inputName:"Nickname\uff1a",inputType:"text",value:b,onChange:function(n){l(n.target.value)}}),Object(r.jsx)(tt,{inputName:"Username\uff1a",inputType:"text",value:e,onChange:function(n){c(n.target.value)}}),Object(r.jsx)(tt,{inputName:"Passwrod\uff1a",inputType:"password",value:s,onChange:function(n){f(n.target.value)}}),Object(r.jsx)(Zn,{children:"Submit"})]})})};function rt(){var n=Object(s.a)(["\n  color: #2d3142;\n"]);return rt=function(){return n},n}function it(){var n=Object(s.a)(["\n  margin-top: 20px;\n  padding: 10px;\n  border: none;\n  background: white;\n  color: #ef8354;\n  cursor: pointer;\n  border-radius: 5px;\n  "," {\n    padding: 15px 20px;\n    font-size: 16px;\n  }\n"]);return it=function(){return n},n}function ct(){var n=Object(s.a)(["\n  padding: 5px;\n  width: 450px;\n  border: none;\n  "," {\n    width: 95%;\n    font-size: 16px;\n  }\n"]);return ct=function(){return n},n}function ot(){var n=Object(s.a)(["\n  font-size: 18px;\n  color: #ffffff;\n  margin: 5px;\n"]);return ot=function(){return n},n}function at(){var n=Object(s.a)(["\n  width: 450px;\n  margin: 0 auto;\n  text-align: left;\n  "," {\n    width: 95%;\n    font-size: 16px;\n  }\n"]);return at=function(){return n},n}function ut(){var n=Object(s.a)(["\n  color: #ffffff;\n"]);return ut=function(){return n},n}function st(){var n=Object(s.a)(["\n  background: #ef8354;\n  margin: 10%;\n  height: 500px;\n  align-items: center;\n  text-align: center;\n  border: 1px solid #ef8354;\n  padding-top: 40px;\n  "," {\n    margin: 5% 0;\n    height: 550px;\n  }\n"]);return st=function(){return n},n}function ft(){var n=Object(s.a)(["\n  margin: 0 auto;\n  width: 80%;\n  "," {\n    width: 95%;\n  }\n"]);return ft=function(){return n},n}var dt=p.a.div(ft(),b),pt=p.a.form(st(),b),jt=p.a.h2(ut()),bt=p.a.div(at(),b),lt=p.a.div(ot()),xt=p.a.textarea(ct(),b),ht=p.a.button(it(),b),Ot=p.a.h3(rt());function gt(n){var t=n.inputName,e=n.inputType,i=n.value,c=n.onChange,o=n.rows;return Object(r.jsx)("div",{children:Object(r.jsxs)(bt,{children:[Object(r.jsx)(lt,{children:t}),Object(r.jsx)(xt,{rows:o,type:e,onChange:c,value:i})]})})}var vt=function(){var n=Object(i.useState)(""),t=Object(vn.a)(n,2),e=t[0],c=t[1],o=Object(i.useState)(""),a=Object(vn.a)(o,2),s=a[0],f=a[1],p=Object(i.useState)(null),j=Object(vn.a)(p,2),b=j[0],l=j[1],x=Object(d.f)(),O=Object(u.b)(),g=Object(u.c)((function(n){return n.posts.newPostResponse})),v=Object(u.c)((function(n){return n.posts.isLoadingNewPost})),m=h(v);return Object(i.useEffect)((function(){!v&&m&&g&&g.id&&x.push("/post/".concat(g.id))}),[g,x,v,m]),Object(r.jsx)(dt,{children:Object(r.jsxs)(pt,{onSubmit:function(n){return n.preventDefault(),l(null),e&&s?O(Y({title:e,body:s})):l("Please Filled Out the Form.")},children:[Object(r.jsx)(jt,{children:"\u767c\u5e03\u6587\u7ae0"}),b&&Object(r.jsx)(Ot,{children:b}),Object(r.jsx)(gt,{inputName:"Title\uff1a",inputType:"text",value:e,onChange:function(n){c(n.target.value)}}),Object(r.jsx)(gt,{inputName:"Content\uff1a",inputType:"text",rows:"10",value:s,onChange:function(n){f(n.target.value)}}),Object(r.jsx)(ht,{children:"Submit"})]})})};function mt(){var n=Object(s.a)(["\n  display: flex;\n  top: 0px;\n  right: 0px;\n  left: 0px;\n  bottom: 0px;\n  position: absolute;\n  background: rgba(0, 0, 0, 0.2);\n  justify-content: center;\n  font-size: 25px;\n  text-align: center;\n  align-items: center;\n"]);return mt=function(){return n},n}function wt(){var n=Object(s.a)(["\n  width: 10px;\n  margin-top: 20px;\n  padding: 5px 10px;\n  background: #ef8354;\n  color: #ffffff;\n  cursor: pointer;\n  & + & {\n    margin-left: 5px;\n  }\n"]);return wt=function(){return n},n}function yt(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n"]);return yt=function(){return n},n}function kt(){var n=Object(s.a)(["\n  color: #4f5d75;\n  min-width: 190px;\n  margin-left: 10px;\n  "," {\n    padding-top: 10px;\n  }\n"]);return kt=function(){return n},n}function Pt(){var n=Object(s.a)(["\n  display: inline-block;\n  align-items: center;\n  font-size: 20px;\n  text-decoration: none;\n  color: #2d3142;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 700px;\n  white-space: nowrap;\n  "," {\n    white-space: pre-line;\n    line-height: 1.5em;\n  }\n"]);return Pt=function(){return n},n}function St(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid #bfc0c0;\n  padding: 20px;\n  align-items: center;\n  :hover {\n    background: #bfc0c0;\n  }\n  "," {\n    display: block;\n  }\n"]);return St=function(){return n},n}function zt(){var n=Object(s.a)(["\n  margin: 0 auto;\n  width: 80%;\n  "," {\n    width: 95%;\n  }\n"]);return zt=function(){return n},n}var Nt=p.a.div(zt(),b),Ct=p.a.div(St(),b),Tt=Object(p.a)(f.b)(Pt(),b),Lt=p.a.div(kt(),b),Et=p.a.div(yt()),Rt=p.a.div(wt()),Dt=p.a.div(mt());function Mt(n){var t=n.post;return Object(r.jsxs)(Ct,{children:[Object(r.jsx)(Tt,{to:"/post/".concat(t.id),children:t.title}),Object(r.jsx)(Lt,{children:new Date(t.createdAt).toLocaleString()})]})}var It=function(){var n=Object(i.useState)([1]),t=Object(vn.a)(n,2),e=t[0],c=t[1],o=Object(i.useState)([]),a=Object(vn.a)(o,2),s=a[0],f=a[1],d=Object(u.b)(),p=(Object(u.c)((function(n){return n.posts.posts})),Object(u.c)((function(n){return n.posts.isLoadingPost}))),j=Object(u.c)((function(n){return n.posts.limitPosts}));return Object(i.useEffect)((function(){d(V()).then((function(n){if(n){for(var t=[],e=1;e<=Math.ceil(n.length/5);e+=1)t.push(e);f(t)}}))}),[]),Object(i.useEffect)((function(){d(W(e))}),[e,d]),Object(r.jsxs)(Nt,{children:[p&&Object(r.jsx)(Dt,{children:"\u8f09\u5165\u4e2d"}),j&&j.map((function(n){return Object(r.jsx)(Mt,{post:n},n.id)})),Object(r.jsx)(Et,{children:s.map((function(n){return Object(r.jsx)(Rt,{onClick:function(){return function(n){c(n)}(n)},children:n},n)}))})]})};function $t(){var n=Object(s.a)(["\n  color: #2d3142;\n"]);return $t=function(){return n},n}function At(){var n=Object(s.a)(["\n  margin-top: 20px;\n  padding: 10px;\n  border: none;\n  background: white;\n  color: #ef8354;\n  cursor: pointer;\n  border-radius: 5px;\n  "," {\n    padding: 15px 20px;\n    font-size: 16px;\n  }\n"]);return At=function(){return n},n}function Bt(){var n=Object(s.a)(["\n  padding: 5px;\n  width: 450px;\n  border: none;\n  "," {\n    width: 95%;\n    font-size: 16px;\n  }\n"]);return Bt=function(){return n},n}function Jt(){var n=Object(s.a)(["\n  font-size: 18px;\n  color: #ffffff;\n  margin: 5px;\n"]);return Jt=function(){return n},n}function _t(){var n=Object(s.a)(["\n  width: 450px;\n  margin: 0 auto;\n  text-align: left;\n  "," {\n    width: 95%;\n    font-size: 16px;\n  }\n"]);return _t=function(){return n},n}function Ft(){var n=Object(s.a)(["\n  color: #ffffff;\n"]);return Ft=function(){return n},n}function Ut(){var n=Object(s.a)(["\n  background: #ef8354;\n  margin: 10%;\n  height: 500px;\n  align-items: center;\n  text-align: center;\n  border: 1px solid #ef8354;\n  padding-top: 40px;\n  "," {\n    margin: 5% 0;\n    height: 550px;\n  }\n"]);return Ut=function(){return n},n}function Ht(){var n=Object(s.a)(["\n  margin: 0 auto;\n  width: 80%;\n  "," {\n    width: 95%;\n  }\n"]);return Ht=function(){return n},n}var qt=p.a.div(Ht(),b),Gt=p.a.form(Ut(),b),Kt=p.a.h2(Ft()),Qt=p.a.div(_t(),b),Vt=p.a.div(Jt()),Wt=p.a.textarea(Bt(),b),Xt=p.a.button(At(),b),Yt=p.a.h3($t());function Zt(n){var t=n.inputName,e=n.inputType,i=n.value,c=n.onChange,o=n.rows;return Object(r.jsx)("div",{children:Object(r.jsxs)(Qt,{children:[Object(r.jsx)(Vt,{children:t}),Object(r.jsx)(Wt,{rows:o,type:e,onChange:c,value:i})]})})}var ne=function(){var n=Object(d.h)().id,t=Object(i.useState)(""),e=Object(vn.a)(t,2),c=e[0],o=e[1],a=Object(i.useState)(""),s=Object(vn.a)(a,2),f=s[0],p=s[1],j=Object(i.useState)(null),b=Object(vn.a)(j,2),l=b[0],x=b[1],O=Object(d.f)(),g=Object(u.b)(),v=Object(u.c)((function(n){return n.posts.post})),m=Object(u.c)((function(n){return n.posts.editPostResponse})),w=Object(u.c)((function(n){return n.posts.isLoadingNewPost})),y=h(w);return Object(i.useEffect)((function(){return w||y||(g(X(n)),v&&(o(v.title),p(v.body))),!w&&y&&m&&m.id&&O.push("/post/".concat(m.id)),function(){g(nn())}}),[n,m,O,w,y]),Object(r.jsx)(qt,{children:Object(r.jsxs)(Gt,{onSubmit:function(){return n=v.id,x(null),c&&f?g(Z(n,{title:c,body:f})):x("Please Filled Out the Form.");var n},children:[Object(r.jsx)(Kt,{children:"\u7de8\u8f2f\u6587\u7ae0"}),l&&Object(r.jsx)(Yt,{children:l}),v&&Object(r.jsx)(Zt,{inputName:"Title\uff1a",inputType:"text",value:c,onChange:function(n){o(n.target.value)}}),v&&Object(r.jsx)(Zt,{inputName:"Content\uff1a",inputType:"text",rows:"10",value:f,onChange:function(n){p(n.target.value)}}),Object(r.jsx)(Xt,{children:"Submit"})]})})};function te(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"]);return te=function(){return n},n}function ee(){var n=Object(s.a)(["\n  margin-left: 10px;\n  padding: 10px;\n  border: 1px solid #ef8354;\n  background: white;\n  color: #ef8354;\n  cursor: pointer;\n  border-radius: 5px;\n  text-decoration: none;\n  font-size: 14px;\n  text-align: center;\n"]);return ee=function(){return n},n}function re(){var n=Object(s.a)(["\n  display: flex;\n  top: 0px;\n  right: 0px;\n  left: 0px;\n  bottom: 0px;\n  position: absolute;\n  background: rgba(0, 0, 0, 0.2);\n  justify-content: center;\n  font-size: 25px;\n  text-align: center;\n  align-items: center;\n"]);return re=function(){return n},n}function ie(){var n=Object(s.a)(["\n  padding: 20px;\n  color: #4f5d75;\n  line-height: 2em;\n  word-break: break-all;\n  white-space: break-spaces;\n"]);return ie=function(){return n},n}function ce(){var n=Object(s.a)(["\n  color: #4f5d75;\n  display: flex;\n  align-items: center;\n  padding-top: 10px;\n"]);return ce=function(){return n},n}function oe(){var n=Object(s.a)(["\n  font-size: 20px;\n  text-decoration: none;\n  color: #2d3142;\n"]);return oe=function(){return n},n}function ae(){var n=Object(s.a)(["\n  justify-content: space-between;\n  border-bottom: 1px solid grey;\n  padding: 20px;\n  "," {\n    display: block;\n  }\n"]);return ae=function(){return n},n}function ue(){var n=Object(s.a)(["\n  margin: 0 auto;\n  width: 80%;\n  "," {\n    width: 95%;\n  }\n"]);return ue=function(){return n},n}var se=p.a.div(ue(),b),fe=p.a.div(ae(),b),de=p.a.div(oe()),pe=p.a.div(ce()),je=p.a.div(ie()),be=p.a.div(re()),le=Object(p.a)(f.b)(ee()),xe=p.a.div(te());var he=function(){var n=Object(d.h)().id,t=Object(u.b)(),e=Object(d.f)(),c=Object(u.c)((function(n){return n.posts.isLoadingPost})),o=Object(u.c)((function(n){return n.posts.post})),a=Object(u.c)((function(n){return n.users.user}));return Object(i.useEffect)((function(){return t(X(n)),function(){t(nn())}}),[n,t]),Object(r.jsxs)(se,{children:[o&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(fe,{children:[Object(r.jsx)(de,{children:o.title}),Object(r.jsxs)(xe,{children:[Object(r.jsx)(pe,{children:new Date(o.createdAt).toLocaleString()}),Object(r.jsxs)("div",{children:[a&&Object(r.jsx)(le,{to:"/edit-post/".concat(o.id),children:"\u7de8\u8f2f"}),a&&Object(r.jsx)(le,{onClick:function(){var n;n=o.id,t(tn(n)).then((function(){e.push("/")}))},children:"\u522a\u9664"})]})]})]}),Object(r.jsx)(je,{children:o.body})]}),c&&Object(r.jsx)(be,{children:"\u8f09\u5165\u4e2d"})]})};function Oe(){var n=Object(s.a)(["\n  padding: 20px;\n  color: #4f5d75;\n  line-height: 2em;\n  word-break: break-all;\n  white-space: break-spaces;\n"]);return Oe=function(){return n},n}function ge(){var n=Object(s.a)(["\n  font-size: 20px;\n  text-decoration: none;\n  color: #2d3142;\n"]);return ge=function(){return n},n}function ve(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid grey;\n  padding: 20px;\n"]);return ve=function(){return n},n}function me(){var n=Object(s.a)(["\n  margin: 0 auto;\n  width: 80%;\n  "," {\n    width: 95%;\n  }\n"]);return me=function(){return n},n}var we=p.a.div(me(),b),ye=p.a.div(ve()),ke=p.a.div(ge()),Pe=p.a.div(Oe());var Se=function(){return Object(r.jsxs)(we,{children:[Object(r.jsx)(ye,{children:Object(r.jsx)(ke,{children:"\u95dc\u65bc\u6211"})}),Object(r.jsx)(Pe,{children:"\u5b89\u5b89\u4f60\u597d\u554a\uff5e \u9019\u662f\u6211\u7684\u90e8\u843d\u683c"})]})},ze=Object(O.a)({reducer:{posts:en,users:N}});function Ne(){var n=Object(s.a)(["\n  padding-top: 64px;\n  "," {\n    padding-top: 130px;\n  }\n"]);return Ne=function(){return n},n}var Ce=p.a.div(Ne(),b);var Te=function(){var n=Object(u.b)();return Object(i.useEffect)((function(){x()&&n((function(n){v().then((function(t){t.ok&&n(y(t.data))}))}))}),[n]),Object(r.jsx)(u.a,{store:ze,children:Object(r.jsx)(Ce,{children:Object(r.jsxs)(f.a,{children:[Object(r.jsx)(B,{}),Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{exact:!0,path:"/",children:Object(r.jsx)(gn,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/login",children:Object(r.jsx)(An,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/register",children:Object(r.jsx)(et,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/about",children:Object(r.jsx)(Se,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/post-list",children:Object(r.jsx)(It,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/new-post",children:Object(r.jsx)(vt,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/post/:id",children:Object(r.jsx)(he,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/edit-post/:id",children:Object(r.jsx)(ne,{})})]})]})})})};a.a.render(Object(r.jsx)(u.a,{store:ze,children:Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Te,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.008a26fa.chunk.js.map